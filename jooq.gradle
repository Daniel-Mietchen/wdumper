jooq {
    version = "3.13.1"
    liquibase(sourceSets.main) {
        generator {
            database {
                name = "org.jooq.meta.extensions.liquibase.LiquibaseDatabase"
                properties {
                    property {
                        key = "scripts"
                        value = project.ext.changeLogFile
                    }
                }
            }
            generate {
                pojos = true
            }
            target {
                packageName = "io.github.bennofs.wdumper.jooq"
                directory = "${project.buildDir}/generated/sources/jooq"
            }
        }

        logging = "WARN"
    }
}

tasks.generateLiquibaseJooqSchemaSource.inputs.file(project.ext.changeLogFile)
tasks.generateLiquibaseJooqSchemaSource.outputs.dir("${project.buildDir}/generated/sources/jooq")